(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(8),o=n.n(r),c=(n(17),n(10)),i=n(9),u=n(2),l=n(3),m=n(5),d=n(4),h=n(1),p=n(6);function f(e){return s.a.createElement("div",{className:"post"},s.a.createElement("h3",null,e.title),s.a.createElement("p",null,e.body),e.children,e.comments)}function v(e){return s.a.createElement("div",{className:"comment"},s.a.createElement("div",null,s.a.createElement("a",{href:"mailto:".concat(e.comment.email)},e.comment.name),s.a.createElement("p",null,e.comment.body)))}function b(e){return s.a.createElement("div",{className:"comment-list"},e.comments.filter(function(t){return t.postId===e.postId}).map(function(e){return s.a.createElement(v,{key:e.id,comment:e})}))}function E(e){return s.a.createElement("div",{className:"user-info"},s.a.createElement("div",null,e.user.name),s.a.createElement("div",null,s.a.createElement("a",{href:"mailto:".concat(e.user.email)},e.user.username)))}var w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={search:""},n.search=n.search.bind(Object(h.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"search",value:function(e){var t=e.target.value;t.trim()&&this.setState(function(){return{search:t}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"post-list"},s.a.createElement("input",{type:"text",onChange:this.search,value:this.state.search}),this.props.posts.filter(function(t){return t.title.includes(e.state.search.trim())||t.body.includes(e.state.search.trim())}).map(function(t){return s.a.createElement(f,{key:t.id,title:t.title,body:t.body,comments:s.a.createElement(b,{postId:t.id,comments:e.props.comments})},s.a.createElement(E,{user:e.props.users[t.userId]}))}))}}]),t}(a.Component),y=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).data=[n.props.urlPosts,n.props.urlUsers,n.props.urlComments],n.state={posts:[],users:[],comments:[],status:"before download"},n.showPosts=n.showPosts.bind(Object(h.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"usersToObj",value:function(e){return e.reduce(function(e,t){return e[t.id]=t,e},{})}},{key:"parseData",value:function(e){var t=Object(i.a)(e,3),n=t[0],a=t[1],s=t[2],r=this.usersToObj(a);this.setState(function(){return{posts:n,users:r,comments:s,status:"ready to show"}})}},{key:"createPromise",value:function(e){return fetch(e).then(function(e){return e.json()})}},{key:"getAllData",value:function(e){var t=this;return Promise.all(e.map(function(e){return t.createPromise(e)}))}},{key:"showPosts",value:function(){var e=this;this.setState(function(e){return Object(c.a)({},e,{status:"loading"})}),this.getAllData(this.data).then(function(t){return e.parseData(t)})}},{key:"render",value:function(){return s.a.createElement("div",null,"before download"===this.state.status&&s.a.createElement("button",{className:"download",onClick:this.showPosts},"Show Todos!"),"loading"===this.state.status&&s.a.createElement("button",{className:"download",disabled:!0},"Loading..."),"ready to show"===this.state.status&&s.a.createElement(w,{posts:this.state.posts,users:this.state.users,comments:this.state.comments}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(y,{urlPosts:"https://jsonplaceholder.typicode.com/posts",urlUsers:"https://jsonplaceholder.typicode.com/users",urlComments:"https://jsonplaceholder.typicode.com/comments"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.4bcd959c.chunk.js.map